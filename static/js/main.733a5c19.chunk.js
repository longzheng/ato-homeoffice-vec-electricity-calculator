(this["webpackJsonpato-homeoffice-vec-electricity-calculator"]=this["webpackJsonpato-homeoffice-vec-electricity-calculator"]||[]).push([[0],{130:function(e,t,a){e.exports=a(140)},140:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),i=a(178),l=a(69),u=a(99),s=a(23),m=a.n(s),d=a(48),p=a(21),g=a(50),f=a(166),h=a(168),E=a(60),y=a(169),b=a(180),v=a(170),w=a(171),k=a(186),O=a(172),j=a(176),x=a(177),S=a(182),C=a(174),M=a(179),A=a(175),N=a(173),T=a(183),D=a(100),P=a(110),I=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(d.a)(m.a.mark((function e(a,n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:if(e.t0=e.sent,!1!==e.t0){e.next=5;break}return e.abrupt("return",n());case 5:r=[],D.parse(t,{worker:!0,delimiter:",",header:!0,step:function(e){return R(e,r)},complete:function(){return a(r)},error:function(){return n()},skipEmptyLines:!0});case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slice(0,825,"text/plain"),e.next=3,a.text();case 3:return n=e.sent,e.abrupt("return",'"NMI","METER SERIAL NUMBER","CON/GEN","DATE","ESTIMATED?","00:00 - 00:30","00:30 - 01:00","01:00 - 01:30","01:30 - 02:00","02:00 - 02:30","02:30 - 03:00","03:00 - 03:30","03:30 - 04:00","04:00 - 04:30","04:30 - 05:00","05:00 - 05:30","05:30 - 06:00","06:00 - 06:30","06:30 - 07:00","07:00 - 07:30","07:30 - 08:00","08:00 - 08:30","08:30 - 09:00","09:00 - 09:30","09:30 - 10:00","10:00 - 10:30","10:30 - 11:00","11:00 - 11:30","11:30 - 12:00","12:00 - 12:30","12:30 - 13:00","13:00 - 13:30","13:30 - 14:00","14:00 - 14:30","14:30 - 15:00","15:00 - 15:30","15:30 - 16:00","16:00 - 16:30","16:30 - 17:00","17:00 - 17:30","17:30 - 18:00","18:00 - 18:30","18:30 - 19:00","19:00 - 19:30","19:30 - 20:00","20:00 - 20:30","20:30 - 21:00","21:00 - 21:30","21:30 - 22:00","22:00 - 22:30","22:30 - 23:00","23:00 - 23:30","23:30 - 00:00"'===n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e,t){var a=e.data;t.push({nmi:parseInt(a.NMI),meter_serial_number:parseInt(a["METER SERIAL NUMBER"]),type:"Consumption"===a["CON/GEN"]?"consumption":"generation",date:Object(P.a)(a.DATE,"dd/MM/yyyy",new Date),estimated:"Yes"===a["ESTIMATED?"],usageByHalfHour:W(a)})},W=function(e){for(var t={},a=0;a<24;a++)for(var n=0;n<2;n++){var r="".concat(a.toString().padStart(2,"0"),":").concat((30*n).toString().padEnd(2,"0")),c=0===n?"".concat(a.toString().padStart(2,"0"),":").concat((30*(n+1)).toString().padEnd(2,"0")):"".concat((a+1).toString().padStart(2,"0"),":").concat((30*(n-1)).toString().padEnd(2,"0"));"24:00"===c&&(c="00:00");var o="".concat(r," - ").concat(c),i=parseFloat(e[o]);isNaN(i)&&(i=0),t[a+(n?.5:0)]=i}return t},V=a(111),B=a(106),F=a.n(B),z=a(107),H=a.n(z),L=a(108),U=a.n(L),Y=a(105),$=a.n(Y),G=a(104),J=a.n(G),q=Object(g.a)((function(e){return{container:{marginTop:e.spacing(6),marginBottom:e.spacing(6)},paper:{padding:e.spacing(2)},title:{color:e.palette.primary.main,textAlign:"center","& > svg":{display:"block",fontSize:60,marginLeft:"auto",marginRight:"auto",marginBottom:e.spacing(1)}},heading:{color:e.palette.primary.main,"& > svg":{verticalAlign:"sub",marginRight:e.spacing(1)}},uploaded:{borderRadius:e.shape.borderRadius,background:e.palette.success.dark,color:"white",padding:e.spacing(2)},error:{borderRadius:e.shape.borderRadius,background:e.palette.error.dark,color:"white",padding:e.spacing(2)}}})),K=function(){var e=r.a.createRef(),t=Object(n.useState)(void 0),a=Object(p.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(),s=Object(p.a)(i,2),g=s[0],D=s[1],_=Object(n.useState)(!1),R=Object(p.a)(_,2),W=R[0],B=R[1],z=Object(n.useState)(new Date("2020-03-01")),L=Object(p.a)(z,2),Y=L[0],G=L[1],K=Object(n.useState)(new Date("2020-06-30")),Q=Object(p.a)(K,2),X=Q[0],Z=Q[1],ee=Object(n.useState)(Object(P.a)("8:00 AM","h:m a",new Date)),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(Object(P.a)("5:00 PM","h:m a",new Date)),ce=Object(p.a)(re,2),oe=ce[0],ie=ce[1],le=r.a.useState({monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1,sunday:!1}),ue=Object(p.a)(le,2),se=ue[0],me=ue[1],de=Object(n.useState)(0),pe=Object(p.a)(de,2),ge=pe[0],fe=pe[1],he=Object(n.useState)(0),Ee=Object(p.a)(he,2),ye=Ee[0],be=Ee[1],ve=Object(n.useState)(.22),we=Object(p.a)(ve,2),ke=we[0],Oe=we[1],je=Object(n.useState)(100),xe=Object(p.a)(je,2),Se=xe[0],Ce=xe[1],Me=Object(n.useState)(!1),Ae=Object(p.a)(Me,2),Ne=Ae[0],Te=Ae[1],De=q(),Pe=Object(n.useCallback)((function(e){switch(e.getDay()){case 0:return se.sunday;case 1:return se.monday;case 2:return se.tuesday;case 3:return se.wednesday;case 4:return se.thursday;case 5:return se.friday;case 6:return se.saturday;default:throw new Error}}),[se]),Ie=Object(n.useCallback)((function(e){var t=ae.getHours()+(ae.getMinutes()>=30?.5:0),a=oe.getHours()+(oe.getMinutes()>=30?.5:0);return e>=t&&e<a}),[ae,oe]);Object(n.useMemo)(Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.t0=D,e.next=6,I(c);case 6:e.t1=e.sent,(0,e.t0)(e.t1),B(!1),e.next=15;break;case 11:e.prev=11,e.t2=e.catch(2),D(void 0),B(!0);case 15:case"end":return e.stop()}}),e,null,[[2,11]])}))),[c]),Object(n.useMemo)(Object(d.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return");case 2:Te(!0),t=g.filter((function(e){return e.date>=Y&&e.date<=X&&Pe(e.date)&&"consumption"===e.type})),a=0,n=0,t.map((function(e){for(var t=0,r=Object.entries(e.usageByHalfHour);t<r.length;t++){var c=Object(p.a)(r[t],2),o=c[0],i=c[1],l=parseFloat(o);Ie(l)&&(a+=i)}return n++,!0})),fe(a),be(n),Te(!1);case 10:case"end":return e.stop()}}),e)}))),[g,Y,X,Pe,Ie]);var _e=function(e){me(Object(u.a)({},se,Object(l.a)({},e.target.name,e.target.checked)))},Re=function(){var t=Object(d.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1===(null===(n=a.target.files)||void 0===n?void 0:n.length)){t.next=3;break}return t.abrupt("return");case 3:if(r=n.item(0)){t.next=6;break}return t.abrupt("return");case 6:o(r),e.current&&(e.current.value="");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(f.a,{maxWidth:"sm",className:De.container},r.a.createElement(h.a,{container:!0,spacing:3,direction:"column"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement(E.a,{variant:"h5",className:De.title,gutterBottom:!0},r.a.createElement(J.a,null),"Home office electricity calculator using Victorian Energy Compare Data"),r.a.createElement(E.a,{variant:"subtitle1",gutterBottom:!0},'To help calculating the electricity usage while working from home during lockdown for the "',r.a.createElement("a",{href:"https://www.ato.gov.au/individuals/income-and-deductions/deductions-you-can-claim/home-office-expenses/#Actualcostmethod",target:"_blank",rel:"noopener noreferrer"},"actual cost method"),'" of deducting home office expenses, this tool automatically calculates your electricity usage from the'," ",r.a.createElement("a",{href:"https://www.victorianenergysaver.vic.gov.au/energy-advice-for-business/accessing-and-understanding-energy-data",target:"_blank",rel:"noopener noreferrer"},"Victorian Energy Compare Data"),".")),r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement(y.a,{className:De.paper},r.a.createElement(E.a,{variant:"h6",className:De.heading},r.a.createElement($.a,null),"Victorian Energy Compare Data"),r.a.createElement(E.a,{variant:"subtitle1",gutterBottom:!0},"Export your Victorian Energy Compare Data CSV file from your"," ",r.a.createElement("a",{href:"https://www.victorianenergysaver.vic.gov.au/energy-advice-for-business/accessing-and-understanding-energy-data#portal",target:"_blank",rel:"noopener noreferrer"},"electricity distributor's website"),"."),r.a.createElement("input",{ref:e,style:{display:"none"},type:"file",accept:"text/csv",onChange:Re}),r.a.createElement(b.a,{textAlign:"center",marginY:3},r.a.createElement(v.a,{onClick:function(){var t;null===(t=e.current)||void 0===t||t.click()},variant:"contained",color:"primary",size:"large"},"Select your Victorian Energy Compare CSV"),r.a.createElement(w.a,{style:{textAlign:"center",marginTop:10}},"No data is uploaded to any servers, processing is done in your browser on your device.")),c&&g&&r.a.createElement(b.a,{className:De.uploaded},r.a.createElement("strong",null,"File name:")," ",null===c||void 0===c?void 0:c.name,r.a.createElement("br",null),r.a.createElement("strong",null,"File size:")," ",null===c||void 0===c?void 0:c.size.toString()," bytes",r.a.createElement("br",null),r.a.createElement("strong",null,"Earliest record date:")," ",Object(V.a)(g[0].date,"PPPP"),r.a.createElement("br",null),r.a.createElement("strong",null,"Latest record date:")," ",Object(V.a)(g[g.length-1].date,"PPPP")),W&&r.a.createElement(b.a,{className:De.error},"There was a problem processing the CSV. Please ensure this data is in the correct Victorian Energy Compare Data format."))),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{className:De.paper},r.a.createElement(E.a,{variant:"h6",className:De.heading},r.a.createElement(F.a,null),"Working from home schedule"),r.a.createElement(E.a,{variant:"subtitle1",gutterBottom:!0},"Choose the appropriate times you work from home."),r.a.createElement(h.a,{container:!0,spacing:2},r.a.createElement(h.a,{item:!0,sm:6},r.a.createElement(k.a,null,r.a.createElement(O.a,null,"Dates"),r.a.createElement(N.a,{autoOk:!0,disableToolbar:!0,variant:"inline",label:"Start date",format:"dd/MM/yyyy",inputVariant:"outlined",value:Y,InputAdornmentProps:{position:"start"},onChange:function(e){return e&&G(e)},margin:"normal",fullWidth:!0}),r.a.createElement(N.a,{autoOk:!0,disableToolbar:!0,variant:"inline",label:"End date",format:"dd/MM/yyyy",inputVariant:"outlined",value:X,InputAdornmentProps:{position:"start"},onChange:function(e){return e&&Z(e)},margin:"normal",fullWidth:!0}))),r.a.createElement(h.a,{item:!0,sm:6},r.a.createElement(k.a,null,r.a.createElement(O.a,null,"Hours"),r.a.createElement(T.a,{label:"Start time",mask:"__:__ _M",inputVariant:"outlined",value:ae,InputAdornmentProps:{position:"start"},minutesStep:30,onChange:function(e){return e&&ne(e)},margin:"normal",fullWidth:!0}),r.a.createElement(T.a,{label:"End time",mask:"__:__ _M",inputVariant:"outlined",value:oe,InputAdornmentProps:{position:"start"},minutesStep:30,onChange:function(e){return e&&ie(e)},margin:"normal",fullWidth:!0}),r.a.createElement(w.a,null,"Usage data is only available in 30 minute increments.")))),r.a.createElement(b.a,{marginTop:2},r.a.createElement(k.a,null,r.a.createElement(O.a,null,"Days of week"),r.a.createElement(j.a,{row:!0},["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((function(e){return r.a.createElement(x.a,{key:e,control:r.a.createElement(S.a,{checked:se[e.toLowerCase()],onChange:_e,name:e.toLowerCase()}),label:e})}))))))),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{className:De.paper},r.a.createElement(E.a,{variant:"h6",className:De.heading},r.a.createElement(H.a,null),"Electricity usage"),Ne&&r.a.createElement(C.a,null),!Ne&&r.a.createElement(r.a.Fragment,null,g&&ge>0&&r.a.createElement(b.a,{m:4,textAlign:"center"},r.a.createElement(b.a,{fontSize:28,color:"primary.main"},Math.round(1e3*ge)/1e3," kWh"),r.a.createElement(b.a,{color:"text.secondary"},"/ ",ye," work days = ~",Math.round(ge/ye*1e3)/1e3," kWh per work day")),g&&0===ge&&r.a.createElement(b.a,{m:4,textAlign:"center",color:"text.secondary"},r.a.createElement(b.a,{fontSize:20},"No electricity usage"),"Check if your usage data and schedule are correct"),!g&&r.a.createElement(b.a,{m:4,textAlign:"center",color:"text.secondary"},"Select data to calculate usage")))),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{className:De.paper},r.a.createElement(E.a,{variant:"h6",className:De.heading},r.a.createElement(U.a,null),"Electricity cost"),Ne&&r.a.createElement(C.a,null),!Ne&&r.a.createElement(r.a.Fragment,null,g&&ge>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{container:!0,spacing:1},r.a.createElement(h.a,{item:!0,sm:6},r.a.createElement(M.a,{label:"Cost per kWh",variant:"outlined",margin:"normal",type:"number",value:ke,onChange:function(e){return Oe(parseFloat(e.currentTarget.value))},fullWidth:!0}),r.a.createElement(w.a,null,"This tool only supports single-rate flat pricing.")),r.a.createElement(h.a,{item:!0,sm:6},r.a.createElement(M.a,{label:"Apportion of costs",variant:"outlined",margin:"normal",type:"number",value:Se,onChange:function(e){return Ce(Math.min(parseInt(e.currentTarget.value),100))},InputProps:{endAdornment:r.a.createElement(A.a,{position:"end"},"%")},inputProps:{max:100},fullWidth:!0}),r.a.createElement(w.a,null,"Refer to"," ",r.a.createElement("a",{href:"https://www.ato.gov.au/individuals/income-and-deductions/deductions-you-can-claim/home-office-expenses/#:~:text=You%20must%20take%20into%20account%20other%20members%20of%20your%20household%20when%20you%20work%20out%20your%20expenses.%20If%20a%20member%20of%20your%20household%20is%20using%20the%20same%20area%20of%20the%20house%20or%20the%20same%20service%20when%20you're%20working,%20you%20must%20apportion%20your%20expenses%20accordingly.",target:"_blank",rel:"noopener noreferrer"},"ATO guidance")," ","on how to splits costs in a household."))),r.a.createElement(b.a,{m:4,textAlign:"center"},r.a.createElement(b.a,{fontSize:28,color:"primary.main"},"$",Math.round(ge*ke*(Se/100)*100)/100),r.a.createElement(b.a,{color:"text.secondary"},"/ ",ye," work days = ~$",Math.round(ge*ke*(Se/100)/ye*1e3)/1e3," ","per work day"))),g&&0===ge&&r.a.createElement(b.a,{m:4,textAlign:"center",color:"text.secondary"},r.a.createElement(b.a,{fontSize:20},"No electricity usage"),"Check if your usage data and schedule are correct"),!g&&r.a.createElement(b.a,{m:4,textAlign:"center",color:"text.secondary"},"Select data to calculate usage"))))))},Q=a(16),X=a(109);var Z=function(){return r.a.createElement(Q.a,{utils:X.a},r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null),r.a.createElement(K,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[130,1,2]]]);
//# sourceMappingURL=main.733a5c19.chunk.js.map